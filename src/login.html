<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>LOGIN</title>
<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: url("./images/loginjavierlopez1.jpg") no-repeat center center;
    background-size: 100% 100%;
    font-family: Arial, sans-serif;
    color: white;
    position: relative;
    overflow: hidden;
  }

  .login-scroll-container {
    position: absolute;
    top: 225px;
    left: 215px;
    width: 400px;
    height: 600px;
    overflow-y: auto;
    background: rgba(0, 0, 0, 0);
    border-radius: 10px;
    padding: 20px;
    z-index: 10;
  }

  h2 {
    position: absolute;
    top: 100px;
    left: 150px;
    font-size: 36px;
  }

  input.usuario, input.password {
    width: 250px;
    padding: 10px;
    border: none;
    font-size: 18px;
    background: rgb(0, 0, 0);
    color: white;
    margin-bottom: 15px;
  }

  .btn-entrar {
    position: absolute;
    font-size: 18px;
    border: none;
    cursor: pointer;
    padding: 35px 40px;
    width: 320px;
    color: white;
    background-color: #4caf50;
    top: 750px;
    left: 800px;
    z-index: 100;
  }

  .btn-volver {
    position: absolute;
    padding: 35px 40px;
    font-size: 18px;
    width: 370px;
    border: none;
    cursor: pointer;
    color: white;
    background-color: #f44336;
    top: 650px;
    left: 770px;
    z-index: 100;
  }

  .btn-olvidaste {
    position: absolute;
    padding: 35px 40px;
    font-size: 18px;
    width: 200px;
    border: none;
    cursor: pointer;
    color: white;
    background-color: #e9b200;
    top: 500px;
    left: 1300px;
    z-index: 100;
  }

  .bubble {
    position: absolute;
    font-family: "Papyrus", serif;
    max-width: 300px;
    background: rgb(0, 0, 0);
    padding: 15px 20px;
    font-size: 20px;
    color: rgb(255, 0, 0);
    line-height: 1.4;
    top: 750px; 
    left: 1130px;
    display: none;
    z-index: 100;
  }

  .bubble-volver {
    position: absolute;
    font-family: "Papyrus", serif;
    max-width: 320px;
    background: rgb(0, 0, 0);
    padding: 15px 20px;
    font-size: 20px;
    color: yellow;
    line-height: 1.4;
    top: 500px;
    left: 770px;
    display: none;
    z-index: 100;
  }

  .bubble.show, .bubble-volver.show {
    display: block;
    animation: fadein 0.5s;
  }

  @keyframes fadein { 
    from { opacity: 0; } 
    to { opacity: 1; } 
  }

  /* Im√°genes orbitantes */
  .orbita {
    width: 200px;
    height: 200px;
    position: absolute;
    top: 300px;
    left: 535px;
    z-index: 50;
  }

  .orbitando {
    width: 100px;
    height: 100px;
    position: absolute;
    top: 50%;
    left: 50%;
    margin: -25px 0 0 -100px;
    animation: orbitar 5s linear infinite;
  }

  @keyframes orbitar {
    from { transform: rotate(0deg) translateX(100px) rotate(0deg); }
    to { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
  }

  .giro {
    width: 100px;
    height: 100px;
    animation: rotar 3s linear infinite;
    display: block;
    margin: 0 auto;
  }

  @keyframes rotar {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .scroll-space {
    height: 5500px;
    z-index: 10;
  }

  .toggle-username {
    cursor: pointer;
    color: yellow;
    margin-left: 10px;
    z-index: 10;
  }

  .password-container {
    margin-top: 5450px;
    z-index: 10;
  }

  .checkboxes {
    position: absolute;
    top: 840px;
    left: 830px;
    display: flex;
    gap: 10px;
    z-index: 100;
  }

  .checkbox {
    width: 30px;
    height: 30px;
    border: 2px solid white;
    background-color: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: yellow;
  }

  .checkbox.checked {
    background-color: rgb(76, 175, 79);
  }

  .bubble-registro {
    position: absolute;
    font-family: "Papyrus", serif;
    max-width: 400px;
    background: rgb(0, 0, 0);
    padding: 20px 30px;
    font-size: 24px;
    color: rgb(0, 255, 64);
    line-height: 1.4;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
    z-index: 1000;
    text-align: center;
    border: 2px solid rgb(9, 255, 0);
    z-index: 10;
  }

  .bubble-registro.show {
    display: block;
    animation: fadein 0.5s;
    z-index: 10;
  }
  
  .static-image {
    position: absolute;
    z-index: 10;
  }
    
  .static-image img {
    width: auto;
    height: auto;
    max-width: 1000px;
    max-height: 1000px;
  }

  #image1 {
    top: 85px;
    left: 230px;
    transform: scale(1);
  }

  #image2 {
    top: 220px;
    left: 215px;
    transform: scale(1);
    z-index: 1;
  }

</style>
</head>
<body>

<div class="login-scroll-container">
  <h2></h2>
  <div>
    <input type="password" id="username" class="usuario" placeholder="Usuario" required>
    <span class="toggle-username" onclick="toggleVisibility()">üëÅÔ∏è</span>
  </div>
  

  <div class="scroll-space"></div>

  <div class="password-container">
    <input type="password" class="password" id="password" placeholder="Contrase√±a" required>
  </div>
</div>
<audio id="bgMusic" loop>
  <source src="./audio/Space II - Dorian Concept (Slowed Version).mp3" type="audio/mpeg">
  Tu navegador no soporta el elemento de audio.
</audio>

<div class="btn-olvidaste">¬øOlvidaste la contrase√±a?</div>
<button type="button" class="btn-entrar" id="btn-entrar">Entrar</button>
<button type="button" class="btn-volver">Volver</button>

<div class="checkboxes" id="checkboxes">
  <div class="checkbox"></div>
  <div class="checkbox"></div>
  <div class="checkbox"></div>
  <div class="checkbox"></div>
  <div class="checkbox"></div>
</div>

<div id="bubble" class="bubble"></div>
<div id="bubble-volver" class="bubble-volver"></div>

<div class="orbita">
  <img src="images/viejo.png" class="orbitando" alt="burbuja animada">
  <img src="images/mushroomman.png" class="giro" alt="girando">
</div>
<div id="bubble-registro" class="bubble-registro"></div>
      <div id="image1" class="static-image">
      <img src="./images/login.PNG" alt="Imagen 1">
    </div>
      <div id="image2" class="static-image">
      <img src="./images/scrollspace.PNG" alt="Imagen 1">
    </div>
<script>

//variables
let clickCount = 0;
let maxClicks = 5;
let registrado = localStorage.getItem("registrado") === "true";
let checksCompleted = false;

function showBubbleRegistro(text) {
  const bubble = document.getElementById("bubble-registro");
  bubble.textContent = text;
  bubble.classList.add("show");
  setTimeout(() => bubble.classList.remove("show"), 8000); //8 sec
}

document.addEventListener('DOMContentLoaded', function() {
  if(!registrado){
    showBubbleRegistro("PRIMERO DEBES REGISTRARTE ANTES DE USAR ESTE LOGIN");
  }
});


function showBubble(text) {
  const bubble = document.getElementById("bubble");
  bubble.textContent = text;
  bubble.classList.add("show");
  setTimeout(() => bubble.classList.remove("show"), 2000);
}


function showBubbleVolver(text) {
  const bubble = document.getElementById("bubble-volver");
  bubble.textContent = text;
  bubble.classList.add("show");
  setTimeout(() => bubble.classList.remove("show"), 3000);
}


function toggleVisibility() {
  const input = document.getElementById('username');
  input.type = input.type === 'password' ? 'text' : 'password';
}

const checkboxes = document.querySelectorAll('.checkbox');
const btnEntrar = document.getElementById('btn-entrar');

checkboxes.forEach((checkbox, index) => {
  checkbox.addEventListener('click', () => {
    if (index === clickCount) {
      checkbox.classList.add('checked');
      checkbox.textContent = '‚úì';
      clickCount++;
      
      if (clickCount === maxClicks) {
        checksCompleted = true;
        showBubble("CHECKS COMPLETADOS");
      }
    }
  });
});

btnEntrar.addEventListener('click', () => {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  
  if (!username || !password) {
    showBubble("Debes rellenar usuario y contrase√±a");
    return;
  }
  
  if (!checksCompleted) {
    showBubble("Debes completar los 5 checks primero");
    return;
  }
  
  //redirigir a javierlopez.html
  window.location.href = "javierlopez.html";
});

document.querySelector(".btn-volver").addEventListener("click", () => {
  showBubbleVolver("NO PUEDES VOLVER DESDE AQU√ç, USA LA FLECHA DEL NAVEGADOR");
});

document.querySelector(".btn-olvidaste").addEventListener("click", () => {
  window.location.href = "calabozo.html";
});

window.onpopstate = function(event) {
  alert("No puedes volver con la flecha del navegador desde el login");
}

document.getElementById('username').type = 'password';

document.addEventListener('DOMContentLoaded', function() {
  const bgMusic = document.getElementById('bgMusic');
  let played = false;
  document.body.addEventListener('click', function() {
    if(!played) {
      bgMusic.play();
      played = true;
    }
  });
  bgMusic.volume = 0.3;
});
</script>

</body>
</html>